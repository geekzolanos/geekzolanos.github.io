"use strict";var boot=function(){this.name="Boot",this.phases=[],this.domNode=null,this.checkBoot=function(){var t=this,e=setInterval(function(){switch(app.bootStatus){case 1:t.phases[app.bootStatus]||(clearInterval(e),t.phaseTwo());break;case 0:t.phases[app.bootStatus]||(clearInterval(e),t.phaseThree())}},10)},this.load=function(t){this.domNode=t.domNode,am.events.suscribe(t,"apperror"),this.domNode.addEventListener("apperror",this.cancelBoot),this.phaseOne()},this.phaseOne=function(){var t=this,e=this.domNode.querySelector("#details"),s=this.domNode.querySelector("#details-boot");document.body.style.background="#FF9100",s.classList.add("visible"),app.events.set(),app.wp.setActive(!0),utils.opacityTransition(e,"Buscando señal de GPS..."),app.gauge.activity.js.setPhaseOne(function(){t.phases[2]=!0,t.checkBoot()})},this.phaseTwo=function(){var t=this,e=this.domNode.querySelector("#details");utils.opacityTransition(e,"Mejorando Precisión"),app.gauge.activity.js.setPhaseTwo(function(){t.phases[1]=!0,t.checkBoot()})},this.phaseThree=function(){this.domNode.querySelector("#details-boot").classList.remove("visible"),app.gauge.activity.js.setPhaseThree(function(){app.gauge.domNode.classList.add("bootSuccess")}),setTimeout(function(){am.startActivity(am.catalog.get("views","main"))},700)},this.cancelBoot=function(t){var e=t.detail,s=this.querySelector("#details");utils.opacityTransition(s,e),this.querySelector("#details-boot").classList.add("ice"),document.body.style.background="#e2443a",app.gauge.activity.js.stopAnimations(),utils.setTransition(app.gauge.domNode,"far-current")},this.unload=function(t){t.domNode.removeEventListener("apperror",this.cancelBoot)}};am.constructors.boot=boot;