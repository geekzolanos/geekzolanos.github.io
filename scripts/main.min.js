const EasterSekret=window.atob("ZWxlbmE=");(()=>{const e=0,t=1,n=2,o=3;let a,i,s=[],l="";const c=(e,t,n)=>e.includes(n)?t+1:t,r=function(s){switch(parseInt(i.filter.selected(),10)){case e:default:a.sort("date",{descending:!0,layout:s&&"instant"});break;case t:a.sort("date");break;case n:a.sort("name");break;case o:a.sort("name",{descending:!0})}},d=function(){const e=i.lang.selected(),t=i.plt.selected(),n=i.search.val(),o=c.bind(this,e),s=c.bind(this,t);a.filter(a=>{const i=a.getElement(),l=i.dataset.lang.split(","),c=i.dataset.plt.split(","),r=!n||(d=n,i.querySelector(".meta__title h2").innerText.toLocaleLowerCase().includes(d.toLocaleLowerCase()));var d;const u=!e.length||l.reduce(o,e.includes(l[0])),p=!t.length||c.reduce(s,t.includes(c[0]));return r&&u&&p})},u=()=>{l=""},p=function(e){$("[data-l18n]").each((function(){const t=this.dataset.l18n;this.innerText=e[t]||this.innerText})),$("[data-l18n-pkg]").each((function(){const t=$(this),n=t.data("l18n-pkg"),o=e.packages[n];t.find("[data-l18n-pkg-prop]").each((function(){const e=$(this).data("l18n-pkg-prop");let t=o;try{e.split("[").forEach(e=>{t=e.includes("]")?t[e.slice(0,e.length-1)]:t[e]})}catch(t){console.error("L18n","Invalid identifier: "+e)}this.innerText=t||this.innerText}))}))};$(document).on("turbolinks:load",(function(){$(".js-counter").countTo({formatter:(e,t)=>e.toFixed(t.decimals)}),function(){const e=$("#portfolio__grid");if(0===e.length)return!1;a=new Muuri(e.get(0),{sortData:{date:(e,t)=>parseInt(t.dataset.date,10),name:(e,t)=>t.querySelector(".meta__title h2").innerText.toUpperCase()}});const t=$("#portfolio-plt option[value]").map((function(){return{innerHTML:`<i class="${this.dataset.icon}"></i> ${this.innerText}`,text:this.innerText,value:this.value}}));i={lang:new SlimSelect({select:"#portfolio-lang",onChange:d}),plt:new SlimSelect({select:"#portfolio-plt",data:t,onChange:d}),filter:new SlimSelect({select:"#portfolio-filter",showSearch:!1,onChange:r}),search:$("#search-input")},r(!0),i.search.on("input",_.debounce(d,300))}(),function(){s=[];const e=$(".project__item");e.hover((function(){if(0===$(this).find("img.loaded").length)return!1;const t=$(this).find(".meta__title"),n=t.children("h2"),o=e.index(this);let a=s[o];if(!a){const e=$(this).find(".meta__content");a=t.position().top-e.position().top-8,s[o]=a}return t.css("transform",`translateY(-${a}px)`),n.css("transform","scale(1.8)"),!0}),(function(){const e=$(this).find(".meta__title"),t=e.children("h2");e.css("transform",""),t.css("transform","")})),$(window).resize(()=>{s=[]})}(),function(){const e={elements_selector:"[data-lazyload]",load_delay:300};a&&(e.callback_loaded=()=>{a.refreshItems(),a.layout()}),new LazyLoad(e)}(),$('[data-toggle="tooltip"]').tooltip(),$(".js-backtotop").on("click",e=>{e.preventDefault(),$("html, body").animate({scrollTop:$("body").offset().top},700,"easeInOutExpo")}),$(".nav__menu").click(e=>{e.preventDefault(),$("body").toggleClass("menu--open")}),$(".content__backdrop").click(()=>$("body").removeClass("menu--open")),$(".js-gotop").on("click",e=>{e.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500,"easeInOutExpo")}),$(window).scroll(()=>{$(window).scrollTop()>200?$(".js-top").addClass("active"):$(".js-top").removeClass("active")}),new Swiper(".single__slideshow",{effect:"fade",autoplay:{delay:4500,disableOnInteraction:!1}}),new Swiper(".skills__slideshow",{slidesPerView:1.2,spaceBetween:30,breakpoints:{640:{slidesPerView:2.5}},freeMode:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!0}}),$('[data-fancybox="slideshow"]').fancybox({animationEffect:"zoom",arrows:!1,infobar:!1,toolbar:!1,hash:!1}),!document.querySelector("#image__particles")||window.outerWidth<=400||particlesJS("image__particles",{particles:{number:{value:15},color:{value:"#fafafa"},shape:{type:"circle"},opacity:{value:.04,random:!0},size:{value:200,random:!0},move:{enable:!0,speed:1.8,direction:"none",out_mode:"bounce",random:!0},line_linked:{enable:!1}},interactivity:{events:{onhover:{enable:!1},onclick:{enable:!1},resize:!0}}}),AOS.init({disableMutationObserver:!0,once:!0,duration:650}),$("[data-lottie]").each((function(){lottie.loadAnimation({container:this,renderer:"svg",loop:!0,autoplay:!0,path:this.dataset.lottie}),$(this).removeAttr("data-lottie")})),u(),function(){const e=window.sessionStorage.getItem("com.gk.portfolio.lang")||"en";$("[data-l18n-lang]").click((function(e){const t=$(this).data("l18n-lang");e.preventDefault(),window.sessionStorage.setItem("com.gk.portfolio.lang",t),window.location.reload()})),"es"!==e&&fetch(`/lang/${e}.json`).then(e=>e.json()).then(p)}(),TurbolinksAnimate.init()})),$(document).ready((function(){Turbolinks.start(),$("#main__loader").fadeOut("slow"),$("body").keypress(e=>{l+=e.key,l.toLocaleLowerCase()===EasterSekret.toLocaleLowerCase()&&(u(),$(".section__image").addClass("easter"),$(".image__content h1").html(atob("WW91J3JlIHRoZSBiZXN0PGJyPjxicj5TaGUncyB0aGUgYmVzdA==")),$(".image__content p").html(atob("WW91J3ZlIGZvdW5kIG15IGVhc3RlciBlZ2csIENvbmdyYXRzITxicj5FdmVuIHRoaXMgd2VicGFnZSB0dXJucyBoYXBweSB3aGVuIGxpc3RlbiBoZXIgbmFtZS4gQnR3LCBzaGUncyBhbHNvIGFuIGFtYXppbmcgZGVzaWduZXIuPGJyPjxicj5JZiB5b3UncmUgcmVhZGluZyB0aGlzLCB0aGFuayB1IGZvciBzbyBtdWNoISA6KQ==")))})}))})();